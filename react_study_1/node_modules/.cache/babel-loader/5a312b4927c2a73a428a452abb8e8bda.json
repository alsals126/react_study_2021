{"ast":null,"code":"var _jsxFileName = \"D:\\\\\\uC624\\uC815\\uBBFC(2021\\uB144)\\\\3\\uD559\\uB144\\\\\\uB9AC\\uC561\\uD2B8\\\\react_study1\\\\src\\\\component-intermediate\\\\lifecycle-method-component-did-update.js\";\nimport React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Container extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      savedColors: [],\n      showColorBox: true\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"text\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 17,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => this.setState(state => ({\n          showColorBox: !state.showColorBox\n        })),\n        children: \"toggle color box\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 17\n      }, this), this.state.showColorBox ? /*#__PURE__*/_jsxDEV(RandomColorBoxWithTimer, {\n        time: 5\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 45\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nclass RandomColorBoxWithTimer extends Component {\n  constructor(props) {\n    super(props);\n\n    this.generateRandomColor = () => \"#000000\".replace(/0/g, function () {\n      return (~~(Math.random() * 16)).toString(16);\n    });\n\n    this.showNewColor = () => {\n      this.setState({\n        color: this.generateRandomColor()\n      });\n    };\n\n    this.resetTimerWithNewColor = () => {\n      clearInterval(this.state.intervalId);\n      this.state.intervalId = setInterval(() => {\n        console.log('from setInterval');\n        this.setState(state => {\n          return {\n            time: state.time - 1\n          };\n        });\n      }, 1000);\n      this.showNewColor();\n      this.setState(state => {\n        return {\n          time: this.props.time\n        };\n      });\n    };\n\n    this.saveColor = () => {\n      this.state.list = setInterval(() => {\n        console.log('save color');\n        this.setState(state => {\n          return {};\n        });\n      });\n    };\n\n    this.state = {\n      color: this.generateRandomColor(),\n      time: this.props.time,\n      intervalId: null,\n      list: []\n    };\n  }\n\n  componentDidMount() {\n    console.log('componentDidMount');\n    this.state.intervalId = setInterval(() => {\n      console.log('from setInterval');\n      this.setState(state => {\n        return {\n          time: state.time - 1\n        };\n      });\n    }, 1000);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    console.log('componentDidUpdate'); // 지금 props, state 정보가 필요한 경우 this.props, this.state 값 접근\n\n    if (this.state.time === 0) {\n      this.resetTimerWithNewColor();\n    }\n  }\n\n  componentWillUnmount() {\n    console.log('componentWillUnmount');\n    clearInterval(this.state.intervalId);\n  }\n\n  render() {\n    console.log(\"render\");\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"\\uB0A8\\uC740 \\uC2DC\\uAC04 : \", this.state.time]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"\\uC0C9\\uC0C1 : \", this.state.color]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: '100px',\n          height: '100px',\n          background: `${this.state.color}`\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.resetTimerWithNewColor,\n        children: \"next color\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.saveColor,\n        children: \"save\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nReactDOM.render( /*#__PURE__*/_jsxDEV(Container, {}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 112,\n  columnNumber: 17\n}, this), document.getElementById(\"root\"));","map":{"version":3,"sources":["D:/오정민(2021년)/3학년/리액트/react_study1/src/component-intermediate/lifecycle-method-component-did-update.js"],"names":["React","Component","ReactDOM","Container","constructor","props","state","savedColors","showColorBox","render","setState","RandomColorBoxWithTimer","generateRandomColor","replace","Math","random","toString","showNewColor","color","resetTimerWithNewColor","clearInterval","intervalId","setInterval","console","log","time","saveColor","list","componentDidMount","componentDidUpdate","prevProps","prevState","componentWillUnmount","width","height","background","document","getElementById"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport ReactDOM from 'react-dom'\r\n\r\nclass Container extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            savedColors: [],\r\n            showColorBox: true\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <text></text>\r\n                <button onClick={() => this.setState(state => ({ showColorBox: !state.showColorBox }))}>toggle color box</button>\r\n                { this.state.showColorBox ? <RandomColorBoxWithTimer time={5} /> : null }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nclass RandomColorBoxWithTimer extends Component {\r\n    generateRandomColor = () => \"#000000\".replace(/0/g,function(){return (~~(Math.random()*16)).toString(16)})\r\n\r\n    showNewColor = () => {\r\n        this.setState({ color: this.generateRandomColor() })\r\n    }\r\n\r\n    resetTimerWithNewColor = () => {\r\n        clearInterval(this.state.intervalId)\r\n        this.state.intervalId = setInterval(() => {\r\n            console.log('from setInterval')\r\n\r\n            this.setState(state => {\r\n                return { time: state.time - 1 }\r\n            })\r\n        }, 1000)\r\n\r\n        this.showNewColor()\r\n        this.setState(state => {\r\n            return { time: this.props.time }\r\n        })\r\n    }\r\n\r\n    saveColor = () => {\r\n        this.state.list = setInterval(() => {\r\n            console.log('save color')\r\n\r\n            this.setState(state => {\r\n                return{ }\r\n            })\r\n        })\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            color: this.generateRandomColor(),\r\n            time: this.props.time,\r\n            intervalId: null,\r\n            list : []\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        console.log('componentDidMount')\r\n\r\n        this.state.intervalId = setInterval(() => {\r\n            console.log('from setInterval')\r\n\r\n            this.setState(state => {\r\n                return { time: state.time - 1 }\r\n            })\r\n        }, 1000)\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        console.log('componentDidUpdate')\r\n\r\n        // 지금 props, state 정보가 필요한 경우 this.props, this.state 값 접근\r\n        if(this.state.time === 0) {\r\n            this.resetTimerWithNewColor()\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        console.log('componentWillUnmount')\r\n\r\n        clearInterval(this.state.intervalId)\r\n    }\r\n\r\n    render() {\r\n        console.log(\"render\")\r\n\r\n        return (\r\n            <div>\r\n                <p>남은 시간 : {this.state.time}</p>\r\n                <p>색상 : {this.state.color}</p>\r\n                <div style={{ width: '100px', height: '100px', background: `${this.state.color}` }}>\r\n                </div>\r\n                <button onClick={ this.resetTimerWithNewColor }>next color</button>\r\n                <button onClick={ this.saveColor }>save</button>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nReactDOM.render(<Container />, document.getElementById(\"root\"))"]},"metadata":{},"sourceType":"module"}